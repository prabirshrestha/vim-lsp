Describe lsp#utils#diff

    Describe lsp#utils#diff#compute
        It should return diff of one letter
            let lines1 = [
            \  'foo',
            \  'bar',
            \  'baz',
            \]
            let lines2 = [
            \  'foo',
            \  'baR',
            \  'baz',
            \]
            let want = {
            \  'range': {
            \    'start': { 'line': 1, 'character': 2 },
            \    'end': { 'line': 1, 'character': 3 },
            \  },
            \  'text': 'R',
            \  'rangeLength': 1
            \}
            let got = lsp#utils#diff#compute(lines1, lines2)
            Assert Equals(got, want)
        End

        It should return diff of multi-lines
            let lines1 = [
            \  'foo',
            \  'bar',
            \  'baz',
            \]
            let lines2 = [
            \  'Foo',
            \  'baR',
            \  'baz',
            \]
            let want = {
            \  'range': {
            \    'start': { 'line': 0, 'character': 0 },
            \    'end': { 'line': 1, 'character': 3, }
            \  },
            \  'text': "Foo\nbaR",
            \  "rangeLength": 7
            \}
            let got = lsp#utils#diff#compute(lines1, lines2)
            Assert Equals(got, want)
        End

        It should return diff familier with utf-16 surrogate pairs
            let lines1 = [
            \  'foo',
            \]
            let lines2 = [
            \  'fğ€o',
            \]
            let want = {
            \  'range': {
            \    'end': { 'line': 0, 'character': 2 },
            \    'start': { 'line': 0, 'character': 1 }
            \  },
            \  'text': 'ğ€',
            \  "rangeLength": 1
            \}
            let got = lsp#utils#diff#compute(lines1, lines2)
            Assert Equals(got, want)
        End
    End
End
